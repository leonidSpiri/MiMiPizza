# MiMiPizza
# Известные баги и недочеты:
- обрезаются фотографии, при маленьком экране
- в карточках товаров в корзине не показывается количество каждого типа товара
- ListAdapter в корзине привязан к низу экрана
- CartItemAdapter.kt ужасная(( реализация подгрузки данных на экран


В целом, все недочеты связаны с недостатком времени, исправить их не трудно.

# Краткая структура приложения:
Приложение написано по шаблону MVVM (Model - View - ViewModel) и разделено на три основных пакета - data (работа с данными, их скачка, обработка, сохраните в БД), domain (бизнес-логика) и presentation (IO)

1. Data layer.
 
 /database. В нем реализованы локальные базы данных. Одна сохраняет информацию о меню (пицца, напитки, десерты), вторая отвечает за корзину. БД реализована на основе БД Room, которая входит в состав Android Jetpack.
 
 /mapper - отвечает за конвертацию объектов из одного класса в другой. Также здесь реализован парсинг JSON объектов.
 
 /network - реализация Api сервиса
 
 /repository - реализация интерфейсов
 

2. Domain Layer.

/entity - сущности. Реализованы с помощью data классов

/repository - интерфейсы


3. Presentation layer.

/adapters - Реализованы адаптеры для Recycle View (список), а также адаптер, использующийся для удобной подстановки данных на экран (BindingAdapter)

/viewmodels - находятся view модели для экранов. Отвечают за обработку данных - получают их из БД (через обращение к repositoryImpl) и отправляют на активность, или получают данные с экрана и отправляют в локальную БД или в сеть. 

/ui- лежат активности, фрагменты и veiewmodel к ним. Главное различие - активность является конечным объектом экрана и может существовать сама по себе, тогда как фрагмент должен быть прикреплен к активности, при этом это позволяет на одной активности менять фрагменты. 



# Краткая логика приложения
При старте приложения, скачивается копия меню ресторана. Используется REST API. Все данные обрабатываются и отправляется в локальную БД.
Главный экран меню реализован на ListAdapter. Данные в адаптер поступают из LiveData, поэтому при обновление данных, карточки меню автоматически изменяются. 
При нажатие на карточку меню, открывается экран детального просмотра. В нем есть возможность выбрать размер (например, пиццы) и добавления в корзину. При повтором добавлении в корзину одинакого продукта, его количество в корзине увеличится. 
Экран корзины также построен на ListAdapter и использует LiveData. На данный момент реализовано удаление товара путем смахивания.

Благодаря тому, что данные о меню хранятся в БД, даже при отсутствии подключения к сети, будет возможность посмотреть информацию о товаре.
